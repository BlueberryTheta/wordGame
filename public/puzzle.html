          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p><!doctype html>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p><html lang="en">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>  <head>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <meta charset="utf-8" />
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <meta name="viewport" content="width=device-width, initial-scale=1" />
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <title>Inqaily — Puzzle</title>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <script>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      (function(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try { if (localStorage.getItem('theme') === 'light') document.documentElement.classList.add('theme-light'); } catch {}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      })();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    </script>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <link rel="stylesheet" href="/style.css" />
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <link rel="stylesheet" href="/light.css" />
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <style>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .page{max-width:800px; margin:32px auto; padding:0 16px}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .panel{background:var(--card); border:1px solid var(--shade); border-radius:12px; padding:16px; margin:16px 0}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .tiles{display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .tile{width:44px; height:54px; display:flex; align-items:center; justify-content:center; border-radius:10px; border:1px solid var(--shade); background:linear-gradient(180deg,#0f142c,#0b0e1d); font:700 22px var(--mono); letter-spacing:.5px; color:var(--fg); box-shadow:inset 0 -3px 0 rgba(255,255,255,.03)}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .tile.empty{color:var(--muted); opacity:.85}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .qa{display:flex; flex-direction:column; gap:8px}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .qa .item{background:#0e1120; border:1px solid var(--shade); padding:10px 12px; border-radius:8px}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .qa .q{color:#b8c2d9}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .qa .a{color:#dff1ff}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      .muted{color:var(--muted)}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    </style>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>  </head>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>  <body>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <div class="page">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="titlebar" style="margin-bottom:12px; display:flex; align-items:center; justify-content:space-between; gap:12px">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="title-main"><h1 style="margin:0">Puzzle Mode</h1></div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="title-actions" style="display:flex; align-items:center; gap:8px">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <button id="helpBtn" class="help-btn" title="How to play" aria-label="How to play" data-tip="How to play" aria-haspopup="dialog" aria-controls="tutorialBackdrop">?</button>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <button id="themeToggle" class="theme-toggle" title="Toggle theme" aria-label="Toggle theme">?</button>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <div class="menu-mount">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <button id="menuToggle" class="menu-toggle" aria-label="Menu" aria-expanded="false" aria-haspopup="true" aria-controls="menuDropdown" title="Menu">☰</button>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <div id="menuDropdown" class="menu-dropdown hidden" role="menu" aria-hidden="true">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>              <a href="/" role="menuitem">Home</a>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>              <a href="/vault.html" role="menuitem">Vault</a>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="meta">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div>Day: <span id="pDayKey">—</span></div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div>Letters: <span id="pWordLength">—</span></div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="panel">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div id="pTiles" class="tiles" aria-live="polite"></div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="panel">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <h2>Hints</h2>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div id="pHints" class="qa"></div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="panel">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <h2>Your One Guess</h2>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="row">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <input id="pGuess" type="text" placeholder="Your guess" />
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <button id="pGuessBtn">Guess</button>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div id="pResult" class="muted" style="margin-top:8px"></div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <footer>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <small>New word rolls at 12:01 AM Eastern Time.</small>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <nav class=\"legal-links\" aria-label=\"Legal and Privacy\">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <a href=\"/privacy.html\">Privacy</a>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <span class=\"sep\">�</span>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <a href=\"/terms.html\">Terms</a>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <span class=\"sep\">�</span>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <a href=\"/cookies.html\">Cookies</a>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        </nav>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </footer>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <script type="module">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      const els = {
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        tiles: document.getElementById('pTiles'),
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        hints: document.getElementById('pHints'),
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        input: document.getElementById('pGuess'),
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        btn: document.getElementById('pGuessBtn'),
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        res: document.getElementById('pResult'),
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        dayKeyEl: document.getElementById('pDayKey'),
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        wordLenEl: document.getElementById('pWordLength')
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      };
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      let mask = [];
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      let len = 0;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      let used = false;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      function renderTiles(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        els.tiles.innerHTML = '';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        for (let i=0;i<len;i++){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const s = document.createElement('span');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          s.className = 'tile' + (mask[i] ? '' : ' empty');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          s.textContent = mask[i] ? mask[i].toUpperCase() : '·';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          els.tiles.appendChild(s);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      function renderHints(qas){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        els.hints.innerHTML = '';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        qas.forEach(({q,a}) => {
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const div = document.createElement('div');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          div.className = 'item';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const qel = document.createElement('div'); qel.className = 'q'; qel.textContent = `Q: ${q}`;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const ael = document.createElement('div'); ael.className = 'a'; ael.textContent = `A: ${a}`;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          div.appendChild(qel); div.appendChild(ael);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          els.hints.appendChild(div);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      async function load(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const r = await fetch('/api/puzzle/state');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const j = await r.json();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        len = j.wordLength;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        mask = j.revealedMask || Array(len).fill(null);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (els.dayKeyEl) els.dayKeyEl.textContent = formatDay(j.dayKey || '');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (els.wordLenEl) els.wordLenEl.textContent = String(len);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        renderTiles();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        renderHints(j.qas || []);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      async function doGuess(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (used) return;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const g = (els.input.value||'').trim();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (!g) return;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        els.btn.disabled = true; used = true;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try{
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const r = await fetch('/api/puzzle/guess', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ guess: g }) });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const j = await r.json();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          if (!r.ok) throw new Error(j.error||'failed');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          if (j.correct){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            els.res.innerHTML = `<span style="color:#6dd16a">Correct! The word was ${j.word.toUpperCase()}.</span>`;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            openGameOver('You got it!', 'Great job! Come back tomorrow for a new puzzle.', true, j.word);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          } else {
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            mask = j.revealedMask || mask;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            renderTiles();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            const letters = (j.lettersInCommon||[]).map(x=>x.toUpperCase()).join(', ');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            els.res.innerHTML = letters ? `Letters in common: <b>${letters}</b>` : `<span style=\"color:#ff6b6b\">No letters in common.</span>`;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            // Reveal the word after the single guess
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            try{ const rr = await fetch('/api/puzzle/reveal'); const jj = await rr.json(); openGameOver('Out of guesses', `${letters ? `Letters in common: ${letters}. ` : ''}The word was ${String(jj.word||'').toUpperCase()}.`); } catch {}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        } catch(e){ els.res.textContent = 'Error: ' + (e?.message||''); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        finally { els.btn.disabled = true; els.input.disabled = true; }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      els.btn.addEventListener('click', doGuess);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      els.input.addEventListener('keydown', e => { if (e.key==='Enter') doGuess(); });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      load();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      // ---- Shared UI bits: theme toggle, menu, tutorial ----
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      function applyTheme(theme){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const root = document.documentElement;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (theme === 'light') root.classList.add('theme-light');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        else root.classList.remove('theme-light');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try { localStorage.setItem('theme', theme); } catch {}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const t = document.getElementById('themeToggle');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (t) {
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          t.setAttribute('aria-label', theme === 'light' ? 'Switch to dark mode' : 'Switch to light mode');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          // Match main page button text
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          t.textContent = theme === 'light' ? '\u263E' : '\u2600';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      (function setupTheme(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        let theme = 'dark';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try {
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          theme = localStorage.getItem('theme') || theme;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        } catch {}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        applyTheme(theme);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const t = document.getElementById('themeToggle');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (t) t.addEventListener('click', ()=>{
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const next = (localStorage.getItem('theme') || 'dark') === 'light' ? 'dark' : 'light';
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          applyTheme(next);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      })();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      (function setupMenu(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const btn = document.getElementById('menuToggle');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const dd = document.getElementById('menuDropdown');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (!btn || !dd) return;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function close(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          dd.classList.add('hidden');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          btn.setAttribute('aria-expanded','false');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          dd.setAttribute('aria-hidden','true');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          document.removeEventListener('click', onDoc);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          document.removeEventListener('keydown', onEsc);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function onDoc(e){ if (e.target===btn||btn.contains(e.target)||e.target===dd||dd.contains(e.target)) return; close(); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function onEsc(e){ if (e.key==='Escape') close(); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        btn.addEventListener('click', (e)=>{
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          e.stopPropagation();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const hidden = dd.classList.contains('hidden');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          if (hidden){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            dd.classList.remove('hidden');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            btn.setAttribute('aria-expanded','true');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            dd.setAttribute('aria-hidden','false');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            setTimeout(()=>{ document.addEventListener('click', onDoc); document.addEventListener('keydown', onEsc); },0);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          } else close();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      })();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      // Auto-open tutorial on first visit (shared key with main)
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      (function maybeShowTutorial(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try { if (!localStorage.getItem('tutorialSeen')) setTimeout(()=>document.getElementById('helpBtn')?.click(), 250); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        catch { setTimeout(()=>document.getElementById('helpBtn')?.click(), 250); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      })();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      function formatDay(key){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try {
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const [y,m,d] = String(key).split('-').map(n=>parseInt(n,10));
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          if (!y||!m||!d) return String(key||'');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const dt = new Date(Date.UTC(y, m-1,  d, 12));
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const parts = new Intl.DateTimeFormat('en-US', { timeZone: 'America/New_York', weekday:'short', month:'short', day:'numeric' }).formatToParts(dt);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          const mp = Object.fromEntries(parts.map(p=>[p.type,p.value]));
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          return `${mp.weekd � ||''} · ${mp.month||''} ${mp.d � ||''}`.trim();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        } catch { return String(key||''); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      function openGameOver(title, message, win=false, word=''){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const b = document.getElementById('pGameOver');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (!b) return;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const t = document.getElementById('pGoTitle');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const m = document.getElementById('pGoMessage');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (t) t.textContent = title;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (m) m.textContent = message;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const actions = document.getElementById('pGoActions');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (win) actions?.classList.remove('hidden'); else actions?.classList.add('hidden');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const shareBtn = document.getElementById('pShare');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        if (win && shareBtn) { shareBtn.onclick = () => sharePuzzleWin(word); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        b.classList.remove('hidden');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function close(){ b.classList.add('hidden'); document.removeEventListener('keydown', onEsc); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function onEsc(e){ if (e.key==='Escape') close(); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        document.getElementById('pGoClose')?.addEventListener('click', close, { once:true });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        b.addEventListener('click', (e)=>{ if (e.target===b) close(); });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        document.addEventListener('keydown', onEsc);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      async function sharePuzzleWin(word){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      async function sharePuzzleWin(word){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const text = Inqaily � Puzzle: I solved it!\\n#Inqaily;
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const shareData = { text, title: 'Inqaily � Puzzle' };
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        try { await navigator.clipboard.writeText(text); } catch {}
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    </script>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <!-- Tutorial Modal (reused) -->
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <div id="tutorialBackdrop" class="backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="tutorialTitle">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="modal" role="document">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="modal-header">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <h2 id="tutorialTitle">How to Play (Puzzle)</h2>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <button id="closeTutorial" class="close-btn" aria-label="Close tutorial">×</button>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="modal-body">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <ul>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <li>You get 1 total guess.</li>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <li>We reveal 1�2 letters of the word up front.</li>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <li>Six to seven brief AI hints give general context.</li>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>            <li>The word is always a noun.</li>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          </ul>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <script>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      (function(){
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const helpBtn = document.getElementById('helpBtn');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const back = document.getElementById('tutorialBackdrop');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        const closeBtn = document.getElementById('closeTutorial');
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function show(){ if (back) back.classList.remove('hidden'); document.addEventListener('keydown', onEsc); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function hide(){ if (back) back.classList.add('hidden'); document.removeEventListener('keydown', onEsc); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        function onEsc(e){ if (e.key==='Escape') hide(); }
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        helpBtn?.addEventListener('click', show);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        closeBtn?.addEventListener('click', hide);
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        back?.addEventListener('click', (e)=>{ if (e.target===back) hide(); });
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      })();
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    </script>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <!-- Game Over Modal for Puzzle -->
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>    <div id="pGameOver" class="backdrop hidden" role="dialog" aria-modal="true" aria-labelledby="pGoTitle">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>      <div class="modal" role="document">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="modal-header">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <h2 id="pGoTitle">Game Over</h2>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <button id="pGoClose" class="close-btn" aria-label="Close">×</button>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>        <div class="modal-body" style="text-align:center">
        <div class="modal-body" style="text-align:center">
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
          <div id="pGoActions" class="score-actions hidden">
            <button id="pShare" class="share-btn" aria-label="Share your win">Share</button>
          </div>
          <div class="mode-explore" style="margin-top:12px">
            <p style="margin:8px 0; color: var(--muted)">Want more? Try another mode:</p>
            <div class="mode-actions" style="display:flex; gap:8px; justify-content:center">
              <a class="share-btn" href="/" aria-label="Play Daily mode">Play Daily</a>
              <a class="share-btn" href="/vault.html" aria-label="Explore Vault">Open Vault</a>
            </div>
          </div>
        </div>
          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>          <p id="pGoMessage">Thanks for playing! Come back tomorrow for a new puzzle.</p>
